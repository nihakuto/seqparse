#!/usr/bin/env node
(()=>{"use strict";var e={198:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.isAccession=void 0;var i=t(229),o=t(397);n.default=function(e,n){return r(void 0,void 0,void 0,(function(){var t,r,s,c;return a(this,(function(a){switch(a.label){case 0:t="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&id=".concat(e.trim(),"&rettype=gbwithparts&retmode=text"),e.startsWith("BB")&&(t="undefined"!=typeof window&&"undefined"==typeof process||(null==n?void 0:n.cors)?"https://cors-anywhere.herokuapp.com/http://parts.igem.org/cgi/xml/part.cgi?part=".concat(e.trim()):"http://parts.igem.org/cgi/xml/part.cgi?part=".concat(e.trim())),r="",a.label=1;case 1:return a.trys.push([1,4,,5]),[4,(0,i.default)(t)];case 2:return[4,(s=a.sent()).text()];case 3:return r=a.sent(),[3,5];case 4:throw c=a.sent(),new Error("Failed to get part: accession=".concat(e," url=").concat(t," err=").concat(c));case 5:if(!s.ok||!r.length)throw new Error("Failed to get part, no body returned: accession=".concat(e," url=").concat(t));return[4,(0,o.default)(r)];case 6:return[2,a.sent()[0]]}}))}))},n.isAccession=function(e){return!!e.startsWith("BB")||!!(e.length<14&&e.match(/^[a-z0-9_\-.]+$/i))}},156:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}c((r=r.apply(e,n||[])).next())}))},a=this&&this.__generator||function(e,n){var t,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(o=0)),o;)try{if(t=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=n.call(e,o)}catch(e){s=[6,e],r=0}finally{t=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.parseFile=void 0;var i=t(198),o=t(397);n.parseFile=o.default,n.default=function(e,n){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return(null==n?void 0:n.fileName)||!(0,i.isAccession)(e)?[3,2]:[4,(0,i.default)(e,n)];case 1:return[2,t.sent()];case 2:return[2,(0,o.default)(e,n)[0]]}}))}))}},397:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(928),a=t(437),i=t(976),o=t(698),s=t(431),c=t(729),u=t(321),l=t(269),f=t(354),p=t(185);n.default=function(e,n){var t=(null==n?void 0:n.fileName)||"",d=t.split(r.sep).pop()||t;if(!e)throw Error("cannot parse null or empty string");var h=e.substring(0,e.search("\n")),m=h.replace(/[^atcgATCG]/,"").length/h.length>.8,v=t&&d?d.substring(0,d.search("\\.")):"Untitled",g=!1;try{var y=JSON.parse(e);["bases","annotations","primers"].every((function(e){return void 0!==y[e]}))&&(g=!0)}catch(e){}var b,A=e.substring(0,200);switch(!0){case A.includes(':seq="http://jbei.org/sequence"'):case e.startsWith("<seq:seq"):b=(0,c.default)(e);break;case e.startsWith(">"):case e.startsWith(";"):case t.endsWith(".seq"):case t.endsWith(".fa"):case t.endsWith(".fas"):case t.endsWith(".fasta"):b=(0,o.default)(e,t);break;case e.includes("LOCUS")&&e.includes("ORIGIN"):case t.endsWith(".gb"):case t.endsWith(".gbk"):case t.endsWith(".genbank"):case t.endsWith(".ape"):b=(0,s.default)(e,t);break;case t.endsWith(".dna"):b=(0,f.default)(n);break;case A.includes("Written by SeqBuilder"):case t.endsWith(".sbd"):b=(0,l.default)(e,t);break;case A.includes("Parts from the iGEM"):case A.includes("<part_list>"):b=(0,i.default)(e);break;case g:b=(0,a.default)(e);break;case A.includes("RDF"):b=(0,u.default)(e,t);break;case m:var C=(0,p.complement)(e).seq;b=[{annotations:[],name:v,seq:C,type:(0,p.guessType)(C)}];break;default:throw Error("".concat(t," File type not recognized: ").concat(e))}return b.map((function(e){return{annotations:e.annotations.sort((function(e,n){return e.start-n.start||e.end-n.end})).map((function(e){return{color:e.color,direction:e.direction,end:e.end,name:e.name,start:e.start,type:e.type}})),name:e.name,seq:e.seq,type:e.type}}))}},437:function(e,n,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},r.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var a=t(185);n.default=function(e){var n=JSON.parse(e),t=(0,a.complement)(n.bases).seq;if(t.length<1)throw new Error("Invalid Benchling part: empty sequence");return[{annotations:n.annotations.map((function(e){return r(r({},e),{direction:(0,a.parseDirection)(e.strand)})})),name:n.name||n._id,seq:t,type:(0,a.guessType)(t)}]}},976:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(150),a=t(185);n.default=function(e){var n=new r.XMLParser({isArray:function(e){return["features","part_name","sequences"].includes(e)},removeNSPrefix:!0}).parse(e),t=n.rsbpml.part_list.part;t||function(e){throw new Error("Failed on BioBrick: ".concat("No part seen in part_list"))}();var i=t.features,o=t.part_name,s=t.sequences,c=(0,a.firstElement)(o),u=i.map((function(e){var n=e.feature;if(!n)return null;var t=n.direction,r=n.endpos,i=n.startpos,o=n.type;return{direction:(0,a.parseDirection)(t),end:+r,name:"".concat(t,"-").concat(i),start:+i||0,type:o||void 0}})).filter((function(e){return e})),l=(0,a.complement)(s[0].seq_data).seq;return[{annotations:u,name:c,seq:l,type:(0,a.guessType)(l)}]}},698:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(185);n.default=function(e,n){if(e.trim().startsWith(">"))return e.split(">").map((function(e){var n=e.substr(e.indexOf("\n"),e.length).replace(/\s/g,"");return{annotations:[],name:e.substring(0,e.search(/\n|\|/)).replace(/\//g,""),seq:n,type:(0,r.guessType)(n)}})).filter((function(e){return e.name&&e.seq}));if(e.trim().startsWith(";")){var t=e.substring(0,e.search(/\n|\|/)).replace(/\//g,""),a=e.indexOf("\n",e.lastIndexOf(";")),i=e.substring(a,e.length);return[{annotations:[],name:t,seq:i,type:(0,r.guessType)(i)}]}var o=n.lastIndexOf(".")||n.length,s=e;return[{annotations:[],name:n.substring(0,o)||"Untitled",seq:s,type:(0,r.guessType)(s)}]}},431:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(185),a=new Set(["gene","product","note","db_xref","protein_id","label","lab_host","locus_tag"]),i=new Set(["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"]);n.default=function(e,n){return e.split(/\/\/\s/g).filter((function(e){return e.length>5})).map((function(e){var t=e.substring(e.indexOf("LOCUS"),e.search(/\\n|\n/)).split(/\s{2,}/g).filter((function(e){return e}))[1];if("Exported"===t&&e.includes("SnapGene")||Number.parseInt(t,10)){var o=!1;if(e.includes("ACCESSION")){var s=e.substring(e.indexOf("ACCESSION"),e.indexOf("\n",e.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter((function(e){return"ACCESSION"!==e})).pop();s&&(t=s,o=!0)}!o&&n?t=n.substring(0,Math.max(n.search(/\n|\||\./),n.lastIndexOf("."))).replace(/\/\s/g,""):o||(t="Unnamed")}var c=e.substring(e.lastIndexOf("ORIGIN")+6,e.length).replace(/[^gatc]/gi,"");c=(0,r.complement)(c).seq;var u=[];if(e.indexOf("FEATURES")){var l=e.indexOf("FEATURES"),f=e.indexOf("\n",l),p=e.lastIndexOf("ORIGIN");e.includes("CONTIG")&&(p=Math.min(p,e.indexOf("CONTIG"))),e.substring(f,p).split(/\n/).filter((function(e){return e})).forEach((function(e){var n=e.split(/\s{2,}/g).filter((function(e){return e}));if(n.length>1){var t=n[0],r=n[1],o=/\d+/g,s=e.includes("complement")?-1:1,l=[0,0],f=l[0],p=l[1],d=o.exec(r);if(d){p=(1+(f=+d[0]-1%c.length))%c.length;var h=o.exec(r);h&&(p=+h[0]%c.length)}"source"!==t&&u.push({direction:s,end:p,name:"",start:f,type:t})}else if(1===n.length&&n[0].startsWith("/")){var m=n[0],v=(m=m.replace(/[/"]/g,"")).split(/=/),g=v[0],y=v[1],b=u.length-1;a.has(g.toLowerCase())?b>=0&&!u[b].name&&(u[b].name=y.trim()):i.has(g)&&b>-1&&(u[b].color=y)}}))}return{annotations:u,name:t.trim()||n,primers:[],seq:c,type:(0,r.guessType)(c)}}))}},729:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(150),a=t(185);n.default=function(e){var n=e.replace(/“|”/g,'"'),t=new r.XMLParser({removeNSPrefix:!0}).parse(n).seq,i=t.features,o=t.name,s=t.sequence,c="Unnamed";o&&(c=o);var u=(0,a.complement)(s).seq;if(!u)return[];var l=[];return i&&i.feature&&i.feature.forEach((function(e){if(e){var n=e.complement,t=e.label,r=e.location,a=e.type;r&&r.genbankStart&&r.end&&l.push({direction:n?-1:1,end:+r.end||0,name:t||"Untitled",start:+r.genbankStart-1||0,type:a||"N/A"})}})),[{annotations:l,name:c,seq:u,type:(0,a.guessType)(u)}]}},321:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(950),a=t(147);n.default=function(e,n){return e.includes("sbols.org/v1#")?(0,r.default)(e):(0,a.default)(e,n)}},950:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(150),a=t(185);n.default=function(e){var n=e.replace(/“|”/g,'"'),t=new r.XMLParser({ignoreAttributes:!1,isArray:function(e){return["Sequence","Collection","DnaComponent","dnaSequence","ComponentDefinition","SequenceAnnotation","sequenceAnnotation","elements","component","annotation"].includes(e)},removeNSPrefix:!0}).parse(n),a=null;t.RDF&&(a=t.RDF);var u=a.Collection,l=a.DnaComponent;if(u&&u.length){var f=[];if(u.forEach((function(n){var t=n.component;t&&t.length&&t.forEach((function(n){var t=n.DnaComponent;f.push(o(t[0],{file:e,strict:!1}))}))})),f.length)return f}else if(l&&l.length){var p=o(l[0],{file:e,strict:!1});if(p)return[p]}var d=[];c(d,a);var h=d.map((function(n){return o(n,{file:e,strict:!0})})).filter((function(e){return!!e}));if(h.length)return h;var m=[];return i(m,a),m.map((function(n){return s(n,e)})).filter((function(e){return e}))};var i=function(e,n){Object.keys(n).forEach((function(t){"Sequence"===t&&n[t].length&&e.push.apply(e,n[t]),Array.isArray(n[t])&&n[t].forEach((function(n){i(e,n)}))}))},o=function(e,n){var t=n.strict,r=void 0!==t&&t,i=e.annotation,o=e.displayId,s=e.dnaSequence,c=e.name,u="Unnamed";if(c)u=c;else if(o)u=o;else if(r)return null;var l="";s&&s[0].DnaSequence&&(l=s[0].DnaSequence.nucleotides);var f=(0,a.complement)(l).seq;if(!f)return null;var p=[];return i&&i.forEach((function(e){var n=e.SequenceAnnotation;if(n&&n[0]){var t=n[0],r=t.bioEnd,a=t.bioStart,i=t.strand,o=t.subComponent;if(o&&o.DnaComponent&&o.DnaComponent[0]){var s=o.DnaComponent[0],c=s.displayId,u=s.name,l=s.type;p.push({direction:"+"===i?1:-1,end:r-1||0,name:u||c||"Untitled",start:a-1||0,type:l["@_resource"]||"N/A"})}}})),{annotations:p,name:u,seq:f,type:(0,a.guessType)(l)}},s=function(e,n){var t=e.displayId||e.title||"Unnamed",r=e.elements[0]||"",i=(0,a.complement)(r),o=i.compSeq,s=i.seq;return{annotations:[],circular:n.search(/plasmid/i)>0,compSeq:o,name:t,seq:s,type:(0,a.guessType)(s)}},c=function(e,n){Object.keys(n).forEach((function(t){"DnaComponent"===t&&n[t].length&&e.push.apply(e,n[t]),Array.isArray(n[t])&&n[t].forEach((function(n){c(e,n)}))}))}},147:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(150),a=t(185);n.default=function(e,n){var t=e.replace(/“|”/g,'"'),a=new r.XMLParser({ignoreAttributes:!1,isArray:function(e){return["Sequence","ComponentDefinition","SequenceAnnotation","sequenceAnnotation","elements"].includes(e)},removeNSPrefix:!0}).parse(t);try{var o=i(a,n);if(o.length)return o;throw new Error("No Sequence info found")}catch(e){throw new Error("Failed to parse SBOL v2 file: ".concat(e))}};var i=function(e,n){var t=null;if(e.RDF&&(t=e.RDF),!t)throw new Error("No root RDF document");var r=t.ComponentDefinition,i=t.Sequence;if(!r&&!i)throw new Error("Failed to parse SBOL v2: No ComponentDefinition or Sequence");var o=function(e){var n=e?i.find((function(n){return n.persistentIdentity&&n.persistentIdentity.length&&n.persistentIdentity["@_resource"]===e||n["@_about"]===e})):i[0];if(n&&n.elements){var t=(0,a.complement)(n.elements[0]||"").seq;return{annotations:[],name:n.displayId,seq:t,type:(0,a.guessType)(t)}}return null},s=[];null==r||r.forEach((function(e,t){if(e.sequence){var r=e.displayId,a=e.sequence,i=e.sequenceAnnotation,c=r||"".concat(n,"_").concat(t+1),u=[];(i||[]).forEach((function(e){var n=e.SequenceAnnotation[0],t=n.displayId,r=n.location.Range;r&&u.push({end:r.end-1,name:t,start:r.start-1})}));var l=o(a["@_resource"]);l&&s.push({annotations:u,name:c,seq:l.seq,type:l.type})}}));var c=o();return!s.length&&c&&s.push(c),s}},269:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0});var r=t(185),a=["gene","product","note","db_xref","protein_id","label","lab_host"],i=["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"];n.default=function(e,n){return e.split(/\/\/\s/g).map((function(e){var t=e.substring(e.search(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)+e.match(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)[0].length,e.length).match(/[actgyrwskmdvhbxn]+/gim)[0];t=(0,r.complement)(t).seq;var o=n.length>0?n:"Unnamed";if(~e.indexOf("LOCUS")){var s=e.substring(e.indexOf("LOCUS"),e.search(/\\n|\n/));s&&s.split(/\s{2,}/g)&&(o=s.split(/\s{2,}/g).filter((function(e){return e}))[1])}if("Exported"===o&&e.includes("SnapGene")||Number.parseInt(o,10)){var c=!1;if(e.includes("ACCESSION")){var u=e.substring(e.indexOf("ACCESSION"),e.indexOf("\n",e.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter((function(e){return"ACCESSION"!==e})).pop();u&&(o=u,c=!0)}!c&&n?o=n.substring(0,Math.max(n.search(/\n|\||\./),n.lastIndexOf("."))).replace(/\/\s/g,""):c||(o="Unnamed")}var l=[];if(e.indexOf("FEATURES")){var f=e.indexOf("FEATURES"),p=e.indexOf("\n",f),d=e.lastIndexOf("ORIGIN");e.includes("CONTIG")&&(d=Math.min(d,e.indexOf("CONTIG"))),e.substring(p,d).split(/\n/).filter((function(e){return e})).forEach((function(e){var n=e.split(/\s{2,}/g).filter((function(e){return e}));if(n.length>1){var r=n[0],o=n[1],s=/\d+/g,c=e.includes("complement")?-1:1,u=[0,0],f=u[0],p=u[1],d=s.exec(o);if(d){f=+d[0]-1%t.length;var h=s.exec(o);h&&(p=+h[0]%t.length)}"source"!==r&&l.push({direction:c,end:p,name:"",start:f,type:r})}else if(1===n.length){var m=n[0],v=(m=m.replace(/[/"]/g,"")).split(/=/),g=v[0],y=v[1],b=l.length-1;a.includes(g)?b>-1&&!l[l.length-1].name&&(l[l.length-1].name=y.trim()):i.includes(g)&&b>-1&&(l[l.length-1].color=y)}}))}return{annotations:l,name:o.trim()||n,seq:t,type:(0,r.guessType)(t)}}))}},354:function(e,n,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},r.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var a=t(150),i=t(928),o=t(185);n.default=function(e){var n;if(!e||!e.source)throw new Error("Failed to parse SnapGene file. No valid file input");var t=(null==e?void 0:e.fileName)||"",s={annotations:[],circular:!1,name:"",seq:"",type:"unknown"},c=Buffer.from(e.source),u=0,l=function(e){var n=u;return u+=e,c.subarray(n,u)},f=function(e,n){return l(e).toString(n)};l(1);var p=l(4).readUInt32BE(),d=f(8,"ascii");if(14!==p||"SnapGene"!==d)throw new Error("Wrong format for a SnapGene file: length=".concat(p," title=").concat(d));for(l(2),l(2),l(2);u<c.length;){var h=l(1),m=l(4).readUInt32BE(),v=h.toString().charCodeAt(0);if(0===v){l(1);var g=m-1;if(g<0)throw new Error("Failed parsing SnapGene: < 0 length sequence");s.seq=f(g,"ascii")}else if(10===v){var y=f(m,"utf8");new a.XMLParser({attributeNamePrefix:"",ignoreAttributes:!1,isArray:function(e){return"Q"===e||"Segment"===e},removeNSPrefix:!0}).parse(y).Features.Feature.forEach((function(e){var n=0,t=0,r=e.Segment[0].range.split("-"),a=r[0],i=r[1];n=0===n?+a:Math.min(n,+a),t=Math.max(t,+i),s.annotations.push({direction:(0,o.parseDirection)({0:"NONE",1:1,2:-1,3:"BIDIRECTIONAL",undefined:"NONE"}[e.directionality]),end:t-1,name:e.name,start:n-1,type:e.type})}))}else l(m)}return[r(r({},s),{name:(null===(n=t.split(i.sep).pop())||void 0===n?void 0:n.replace(".dna",""))||t,type:(0,o.guessType)(s.seq)})]}},185:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.guessType=n.parseDirection=n.firstElement=n.reverseComplement=n.complement=void 0;var t={A:"T",B:"V",C:"G",D:"H",G:"C",H:"D",K:"M",M:"K",N:"N",R:"Y",S:"S",T:"A",U:"A",V:"B",W:"W",X:"X",Y:"R",a:"t",b:"v",c:"g",d:"h",g:"c",h:"d",k:"m",m:"k",n:"n",r:"y",s:"s",t:"a",u:"a",v:"b",w:"w",x:"x",y:"r"};n.complement=function(e){if(!e)return{compSeq:"",seq:""};for(var n="",r="",a=0,i=e.length;a<i;a+=1)t[e[a]]&&(n+=e[a],r+=t[e[a]]);return{compSeq:r,seq:n}},n.reverseComplement=function(e){return(0,n.complement)(e).compSeq.split("").reverse().join("")},n.firstElement=function(e){if(Array.isArray(e))return e[0]};var r=new Set(["FWD","fwd","FORWARD","forward","FOR","for","TOP","top","1",1]),a=new Set(["REV","rev","REVERSE","reverse","BOTTOM","bottom","-1",-1]);n.parseDirection=function(e){return e?r.has(e)?1:a.has(e)?-1:0:0};var i=Array.from(new Set(Object.values({AAA:"K",AAC:"N",AAG:"K",AAT:"N",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AGA:"R",AGC:"S",AGG:"R",AGT:"S",ATA:"I",ATC:"I",ATG:"M",ATT:"I",CAA:"Q",CAC:"H",CAG:"Q",CAT:"H",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CGA:"R",CGC:"R",CGG:"R",CGT:"R",CTA:"L",CTC:"L",CTG:"L",CTT:"L",GAA:"E",GAC:"D",GAG:"E",GAT:"D",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GGA:"G",GGC:"G",GGG:"G",GGT:"G",GTA:"V",GTC:"V",GTG:"V",GTT:"V",TAA:"*",TAC:"Y",TAG:"*",TAT:"Y",TCA:"S",TCC:"S",TCG:"S",TCT:"S",TGA:"*",TGC:"C",TGG:"W",TGT:"C",TTA:"L",TTC:"F",TTG:"L",TTT:"F"})).values()).join(""),o=new RegExp("^[".concat(i,"]+$"),"i");n.guessType=function(e){return/^[atgcn.]+$/i.test(e)?"dna":/^[augcn.]+$/i.test(e)?"rna":o.test(e)?"aa":"unknown"}},150:e=>{e.exports=require("fast-xml-parser")},229:e=>{e.exports=require("node-fetch")},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var i=n[r]={exports:{}};return e[r].call(i.exports,i,i.exports,t),i.exports}(()=>{var e=t(896),n=t(156),r=process.env.LOG_LEVEL||"info",a=function(e){"debug"===r.toLowerCase()&&console.log("[DEBUG] ".concat(e))},i=function(){console.error("# Example USAGE:\n\n# parse a file\nseqparse gene.fa\n\n# parse a file from stdin\ncat gene.fa | seqparse\n\n# fetch and parse a file from NCBI of iGEM by accession\nseqparse FJ172221"),process.exit(1)},o={},s=null;if(process.argv[2])s=process.argv[2],a("reading from arg");else{a("reading from stdin");try{o.source=(0,e.readFileSync)(process.stdin.fd),o.fileName="Unknown",s=o.source.toString("utf-8"),a("successfully read stdin")}catch(e){a("failed to read stdin"),i()}}s&&s.length||(console.error("no input detected"),i(),process.exit(1));var c=null;if((0,e.existsSync)(s)){o.fileName=s;try{a("attempting to read file"),o.source=(0,e.readFileSync)(s),c=o.source.toString("utf-8"),a("successfully read file")}catch(e){console.error("failed to read file",e),i()}}a("parsing"),(0,n.default)(c||s,o).then((function(e){a("successfully parsed"),console.log(JSON.stringify(e,null,2))})).catch((function(e){console.error("failed to parse input",e),i()}))})()})();
//# sourceMappingURL=cli.js.map